<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CVDI GUI: cvdi::Stop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CVDI GUI
   </div>
   <div id="projectbrief">Connected Vechicle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecvdi.html">cvdi</a></li><li class="navelem"><a class="el" href="classcvdi_1_1Stop.html">Stop</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classcvdi_1_1Stop-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cvdi::Stop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class that detects stop behavior within a trace.  
 <a href="classcvdi_1_1Stop.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cvdi_8hpp_source.html">cvdi.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcvdi_1_1Stop_1_1Deque.html">Deque</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A special deque with support for detecting stops in trace.  <a href="classcvdi_1_1Stop_1_1Deque.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa4c4800d1d37bd89d480448f4ef73c32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4c4800d1d37bd89d480448f4ef73c32"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>HighwaySet</b> = std::unordered_set&lt; long &gt;</td></tr>
<tr class="separator:aa4c4800d1d37bd89d480448f4ef73c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a008996dc88e35a9f9ffd8dd1a68a9cb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcvdi_1_1Stop.html#a008996dc88e35a9f9ffd8dd1a68a9cb0">Stop</a> (uint64_t max_time=120, double min_distance=15.0, double max_speed=2.5)</td></tr>
<tr class="memdesc:a008996dc88e35a9f9ffd8dd1a68a9cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a stop detector.  <a href="#a008996dc88e35a9f9ffd8dd1a68a9cb0">More...</a><br /></td></tr>
<tr class="separator:a008996dc88e35a9f9ffd8dd1a68a9cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5313b4db03ad4e79f5210463a4fc48ab"><td class="memItemLeft" align="right" valign="top">geo_data::Interval::PtrList &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcvdi_1_1Stop.html#a5313b4db03ad4e79f5210463a4fc48ab">find_stops</a> (const geo_data::Sample::Trace &amp;trace)</td></tr>
<tr class="memdesc:a5313b4db03ad4e79f5210463a4fc48ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the critical intervals in the trace that exhibit stop behavior.  <a href="#a5313b4db03ad4e79f5210463a4fc48ab">More...</a><br /></td></tr>
<tr class="separator:a5313b4db03ad4e79f5210463a4fc48ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac7bf3679f7efc1152ab304546a26bc4f"><td class="memItemLeft" align="right" valign="top">static geo_data::Index&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcvdi_1_1Stop.html#ac7bf3679f7efc1152ab304546a26bc4f">set_excluded_highways</a> (const HighwaySet &amp;excludes)</td></tr>
<tr class="memdesc:ac7bf3679f7efc1152ab304546a26bc4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the OSM highway types where stops should be ignored.  <a href="#ac7bf3679f7efc1152ab304546a26bc4f">More...</a><br /></td></tr>
<tr class="separator:ac7bf3679f7efc1152ab304546a26bc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fde6d6b071e2113142ffda389139d01"><td class="memItemLeft" align="right" valign="top">static geo_data::Index&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcvdi_1_1Stop.html#a2fde6d6b071e2113142ffda389139d01">add_excluded_highway</a> (long highway)</td></tr>
<tr class="memdesc:a2fde6d6b071e2113142ffda389139d01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an OSM highway type to the current exclude set.  <a href="#a2fde6d6b071e2113142ffda389139d01">More...</a><br /></td></tr>
<tr class="separator:a2fde6d6b071e2113142ffda389139d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1a66133a4ab398d4f1c24cd50d3126"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcvdi_1_1Stop.html#a3f1a66133a4ab398d4f1c24cd50d3126">valid_highway</a> (const geo_data::Sample::Ptr sample)</td></tr>
<tr class="memdesc:a3f1a66133a4ab398d4f1c24cd50d3126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate that indicates this point should be considered for stop detection.  <a href="#a3f1a66133a4ab398d4f1c24cd50d3126">More...</a><br /></td></tr>
<tr class="separator:a3f1a66133a4ab398d4f1c24cd50d3126"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a4bead8dc8bfdf62e07dd5b97a327cca1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4bead8dc8bfdf62e07dd5b97a327cca1"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Deque</b></td></tr>
<tr class="separator:a4bead8dc8bfdf62e07dd5b97a327cca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that detects stop behavior within a trace. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a008996dc88e35a9f9ffd8dd1a68a9cb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cvdi::Stop::Stop </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max_time</em> = <code>120</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min_distance</em> = <code>15.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_speed</em> = <code>2.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a stop detector. </p>
<p><a class="el" href="classcvdi_1_1Stop.html" title="A class that detects stop behavior within a trace. ">Stop</a> detectors find stops using distance and time, not by speed alone. If speed exceeds a certain threshold OR it is on an excluded highway type, it will not be considered for stop detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_time</td><td>(seconds) the maximum loiter time considered as a stop </td></tr>
    <tr><td class="paramname">min_distance</td><td>(meters) stops not cover more than this distance </td></tr>
    <tr><td class="paramname">max_speed</td><td>(meters/second) only consider trip points whose speed is less than max speed for stops </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2fde6d6b071e2113142ffda389139d01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geo_data::Index cvdi::Stop::add_excluded_highway </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>highway</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an OSM highway type to the current exclude set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hw</td><td>an OSM highway to add to the excluded set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the size of the set to ignore </dd></dl>

</div>
</div>
<a class="anchor" id="a5313b4db03ad4e79f5210463a4fc48ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geo_data::Interval::PtrList &amp; cvdi::Stop::find_stops </td>
          <td>(</td>
          <td class="paramtype">const geo_data::Sample::Trace &amp;&#160;</td>
          <td class="paramname"><em>trace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the critical intervals in the trace that exhibit stop behavior. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trace</td><td>the trace to review for stops </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of pointers to intervals; the intervals capture the stop critical intervals</dd></dl>
<p>Find the critical intervals in the provided trajectory that exhibit stop behavior.</p>
<p>NOTE: const reference to container will only allow const_iterators... </p>

</div>
</div>
<a class="anchor" id="ac7bf3679f7efc1152ab304546a26bc4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geo_data::Index cvdi::Stop::set_excluded_highways </td>
          <td>(</td>
          <td class="paramtype">const HighwaySet &amp;&#160;</td>
          <td class="paramname"><em>excludes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the OSM highway types where stops should be ignored. </p>
<p>This static method will clear the set first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">excludes</td><td>a constant set of OSM highway types </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the size of the set to ignore </dd></dl>

</div>
</div>
<a class="anchor" id="a3f1a66133a4ab398d4f1c24cd50d3126"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cvdi::Stop::valid_highway </td>
          <td>(</td>
          <td class="paramtype">const geo_data::Sample::Ptr&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Predicate that indicates this point should be considered for stop detection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample</td><td>sample trace point. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the road the point is fit to is IMPLICIT (unknown) or it is NOT in the blacklist</dd></dl>
<p>Predicate that returns true if the road the point is fit to is IMPLICIT (unknown) or it is NOT in the blacklist. Return false if the road the trip point is on is EXPLICIT and fit to a black list road &ndash; we ignore stops on those roads. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>cvdi-src/cvdi/include/<a class="el" href="cvdi_8hpp_source.html">cvdi.hpp</a></li>
<li>cvdi-src/cvdi/src/cvdi.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 28 2018 12:10:30 for CVDI GUI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
